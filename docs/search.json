[
  {
    "objectID": "qmd/sts-offre-transport.html",
    "href": "qmd/sts-offre-transport.html",
    "title": "STS - Offre de transport: analyse descriptive",
    "section": "",
    "text": "Ce document presente une analyse descriptive de l’offre de transport de la ST Sahel (jeu de donnees GTFS). Les etapes suivent le plan demande: chargement des donnees, statistiques globales, repartition par ligne, amplitude horaire, visualisations et interpretation des resultats.",
    "crumbs": [
      "Projects",
      "STS - Offre de transport: analyse descriptive"
    ]
  },
  {
    "objectID": "qmd/sts-offre-transport.html#contexte-et-objectifs",
    "href": "qmd/sts-offre-transport.html#contexte-et-objectifs",
    "title": "STS - Offre de transport: analyse descriptive",
    "section": "",
    "text": "Ce document presente une analyse descriptive de l’offre de transport de la ST Sahel (jeu de donnees GTFS). Les etapes suivent le plan demande: chargement des donnees, statistiques globales, repartition par ligne, amplitude horaire, visualisations et interpretation des resultats.",
    "crumbs": [
      "Projects",
      "STS - Offre de transport: analyse descriptive"
    ]
  },
  {
    "objectID": "qmd/sts-offre-transport.html#methodologie",
    "href": "qmd/sts-offre-transport.html#methodologie",
    "title": "STS - Offre de transport: analyse descriptive",
    "section": "2 Methodologie",
    "text": "2 Methodologie\n\nSource: donnees GTFS (routes, stops, trips, stop-times).\nPreparation: lecture UTF-16, harmonisation des identifiants et nettoyage des heures.\nLimites: pas de donnees de demande (voyageurs), analyse centree sur l’offre.",
    "crumbs": [
      "Projects",
      "STS - Offre de transport: analyse descriptive"
    ]
  },
  {
    "objectID": "qmd/sts-offre-transport.html#etape-1-collecte-et-preparation-des-donnees",
    "href": "qmd/sts-offre-transport.html#etape-1-collecte-et-preparation-des-donnees",
    "title": "STS - Offre de transport: analyse descriptive",
    "section": "3 Etape 1: Collecte et preparation des donnees",
    "text": "3 Etape 1: Collecte et preparation des donnees\n\n\nShow code\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(tidyr)\nlibrary(knitr)\n\ndata_dir &lt;- file.path(\"data\", \"STS\")\nif (!dir.exists(data_dir)) {\n  data_dir &lt;- file.path(\"qmd\", \"data\", \"STS\")\n}\n\nread_gtfs &lt;- function(path) {\n  data &lt;- read.delim(\n    path,\n    stringsAsFactors = FALSE,\n    fileEncoding = \"UTF-16LE\",\n    sep = \"\\t\",\n    header = FALSE,\n    fill = TRUE,\n    check.names = TRUE\n  )\n  data &lt;- data[-1, , drop = FALSE]\n\n  base &lt;- basename(path)\n  if (base == \"routes.txt\") {\n    cols &lt;- c(\n      \"agency_id\",\n      \"route_short_name\",\n      \"route_id\",\n      \"route_long_name\",\n      \"route_type\",\n      \"route_type_name\"\n    )\n  } else if (base == \"stops.txt\") {\n    cols &lt;- c(\"stop_id\", \"stop_name\", \"stop_lat\", \"stop_lon\")\n  } else if (base == \"trips.txt\") {\n    cols &lt;- c(\"trip_id\", \"route_id\", \"service_id\", \"direction_id\", \"shape_id\")\n  } else if (base == \"stop-times.txt\") {\n    cols &lt;- c(\n      \"trip_id\",\n      \"stop_id\",\n      \"arrival_time\",\n      \"departure_time\",\n      \"stop_sequence\"\n    )\n  } else {\n    cols &lt;- paste0(\"v\", seq_len(ncol(data)))\n  }\n\n  names(data) &lt;- tolower(cols[seq_len(ncol(data))])\n  data\n}\n\nroutes &lt;- read_gtfs(file.path(data_dir, \"routes.txt\"))\nstops &lt;- read_gtfs(file.path(data_dir, \"stops.txt\"))\ntrips &lt;- read_gtfs(file.path(data_dir, \"trips.txt\"))\nstop_times &lt;- read_gtfs(file.path(data_dir, \"stop-times.txt\"))\n\nroutes$route_id &lt;- as.character(routes$route_id)\ntrips$route_id &lt;- as.character(trips$route_id)\ntrips$trip_id &lt;- as.character(trips$trip_id)\nstop_times$trip_id &lt;- as.character(stop_times$trip_id)\nstop_times$stop_id &lt;- as.character(stop_times$stop_id)\n\nparse_hhmmss_to_minutes &lt;- function(x) {\n  parts &lt;- strsplit(x, \":\", fixed = TRUE)\n  sapply(parts, function(p) {\n    if (length(p) == 2) {\n      return(as.numeric(p[1]) * 60 + as.numeric(p[2]))\n    }\n    if (length(p) &lt; 3) {\n      return(NA_real_)\n    }\n    as.numeric(p[1]) * 60 + as.numeric(p[2]) + as.numeric(p[3]) / 60\n  })\n}\n\nminutes_to_hhmm &lt;- function(m) {\n  if (is.na(m)) {\n    return(NA_character_)\n  }\n  m_round &lt;- as.integer(round(m))\n  h &lt;- m_round %/% 60\n  mins &lt;- m_round %% 60\n  sprintf(\"%02d:%02d\", h, mins)\n}\n\nstop_times &lt;- stop_times %&gt;%\n  mutate(\n    dep_min = parse_hhmmss_to_minutes(departure_time),\n    arr_min = parse_hhmmss_to_minutes(arrival_time)\n  )\n\nstop_times_clean &lt;- stop_times %&gt;%\n  filter(!is.na(dep_min), !is.na(arr_min))",
    "crumbs": [
      "Projects",
      "STS - Offre de transport: analyse descriptive"
    ]
  },
  {
    "objectID": "qmd/sts-offre-transport.html#etape-2-analyse-descriptive-et-statistiques-cles",
    "href": "qmd/sts-offre-transport.html#etape-2-analyse-descriptive-et-statistiques-cles",
    "title": "STS - Offre de transport: analyse descriptive",
    "section": "4 Etape 2: Analyse descriptive et statistiques cles",
    "text": "4 Etape 2: Analyse descriptive et statistiques cles\n\n\nShow code\n# Statistiques globales\n\ntotal_lignes &lt;- n_distinct(routes$route_id)\ntotal_arrets &lt;- n_distinct(stops$stop_id)\ntotal_trajets &lt;- nrow(trips)\n\nfirst_bus_min &lt;- min(stop_times_clean$dep_min, na.rm = TRUE)\nlast_bus_min &lt;- max(stop_times_clean$arr_min, na.rm = TRUE)\n\nfirst_bus_time &lt;- minutes_to_hhmm(first_bus_min)\nlast_bus_time &lt;- minutes_to_hhmm(last_bus_min)\n\namplitude_hours &lt;- (last_bus_min - first_bus_min) / 60\n\n# Repartition par ligne\ntrips_by_line &lt;- trips %&gt;%\n  count(route_id, name = \"Nombre_Trajets\")\n\nstops_by_line &lt;- stop_times_clean %&gt;%\n  inner_join(trips %&gt;% select(trip_id, route_id), by = \"trip_id\") %&gt;%\n  group_by(route_id) %&gt;%\n  summarise(Nombre_Arrets = n_distinct(stop_id), .groups = \"drop\")\n\nline_span &lt;- stop_times_clean %&gt;%\n  inner_join(trips %&gt;% select(trip_id, route_id), by = \"trip_id\") %&gt;%\n  group_by(route_id) %&gt;%\n  summarise(\n    first_dep = min(dep_min, na.rm = TRUE),\n    last_dep = max(dep_min, na.rm = TRUE),\n    amplitude_h = (last_dep - first_dep) / 60,\n    .groups = \"drop\"\n  )\n\nline_stats &lt;- full_join(trips_by_line, stops_by_line, by = \"route_id\") %&gt;%\n  left_join(line_span, by = \"route_id\") %&gt;%\n  left_join(\n    routes %&gt;% select(route_id, route_short_name, route_long_name),\n    by = \"route_id\"\n  ) %&gt;%\n  mutate(\n    Nom_Ligne = ifelse(\n      !is.na(route_short_name) & route_short_name != \"\",\n      route_short_name,\n      route_long_name\n    )\n  ) %&gt;%\n  select(\n    route_id,\n    Nom_Ligne,\n    Nombre_Arrets,\n    Nombre_Trajets,\n    first_dep,\n    last_dep,\n    amplitude_h\n  ) %&gt;%\n  mutate(\n    Nombre_Arrets = replace_na(Nombre_Arrets, 0),\n    Nombre_Trajets = replace_na(Nombre_Trajets, 0),\n    Part_Trajets = Nombre_Trajets / sum(Nombre_Trajets),\n    freq_par_heure = ifelse(amplitude_h &gt; 0, Nombre_Trajets / amplitude_h, NA_real_)\n  ) %&gt;%\n  arrange(desc(Nombre_Trajets))\n\narrets_stats &lt;- line_stats %&gt;%\n  summarise(\n    min_arrets = min(Nombre_Arrets, na.rm = TRUE),\n    max_arrets = max(Nombre_Arrets, na.rm = TRUE),\n    mean_arrets = mean(Nombre_Arrets, na.rm = TRUE),\n    median_arrets = median(Nombre_Arrets, na.rm = TRUE),\n    q1_arrets = quantile(Nombre_Arrets, 0.25, na.rm = TRUE),\n    q3_arrets = quantile(Nombre_Arrets, 0.75, na.rm = TRUE)\n  )\n\ntrajets_stats &lt;- line_stats %&gt;%\n  summarise(\n    min_trajets = min(Nombre_Trajets, na.rm = TRUE),\n    max_trajets = max(Nombre_Trajets, na.rm = TRUE),\n    mean_trajets = mean(Nombre_Trajets, na.rm = TRUE),\n    median_trajets = median(Nombre_Trajets, na.rm = TRUE),\n    q1_trajets = quantile(Nombre_Trajets, 0.25, na.rm = TRUE),\n    q3_trajets = quantile(Nombre_Trajets, 0.75, na.rm = TRUE)\n  )\n\namplitude_stats &lt;- line_stats %&gt;%\n  summarise(\n    min_amp = min(amplitude_h, na.rm = TRUE),\n    max_amp = max(amplitude_h, na.rm = TRUE),\n    mean_amp = mean(amplitude_h, na.rm = TRUE),\n    median_amp = median(amplitude_h, na.rm = TRUE)\n  )\n\npercent &lt;- function(x) paste0(round(x * 100, 1), \"%\")\n\ntop_15_share &lt;- line_stats %&gt;%\n  mutate(part = Nombre_Trajets / sum(Nombre_Trajets, na.rm = TRUE)) %&gt;%\n  slice(1:15) %&gt;%\n  summarise(share = sum(part, na.rm = TRUE)) %&gt;%\n  pull(share)\n\ntop_10_lines &lt;- line_stats %&gt;%\n  arrange(desc(Nombre_Trajets)) %&gt;%\n  slice_head(n = 10)\n\nhourly_counts &lt;- stop_times_clean %&gt;%\n  mutate(heure = floor(dep_min / 60)) %&gt;%\n  count(heure, name = \"departs\")\n\npeak_hour &lt;- hourly_counts %&gt;%\n  slice_max(departs, n = 1, with_ties = FALSE)\n\nmorning_share &lt;- hourly_counts %&gt;%\n  filter(heure &gt;= 6, heure &lt;= 9) %&gt;%\n  summarise(part = sum(departs) / sum(hourly_counts$departs)) %&gt;%\n  pull(part)\n\nevening_share &lt;- hourly_counts %&gt;%\n  filter(heure &gt;= 16, heure &lt;= 19) %&gt;%\n  summarise(part = sum(departs) / sum(hourly_counts$departs)) %&gt;%\n  pull(part)",
    "crumbs": [
      "Projects",
      "STS - Offre de transport: analyse descriptive"
    ]
  },
  {
    "objectID": "qmd/sts-offre-transport.html#resume-executif",
    "href": "qmd/sts-offre-transport.html#resume-executif",
    "title": "STS - Offre de transport: analyse descriptive",
    "section": "5 Resume executif",
    "text": "5 Resume executif\n\nOffre: 265 lignes, 852 arrets, 76 trajets.\nService: debut a 00:05, fin a 23:55 (amplitude 23.8 h).\nConcentration: top 10 lignes = 86.8 % des trajets.\nPointe: heure la plus chargee a 16 h (matin/soir dominants).\n\n\n5.1 Statistiques globales\nCe bloc resume les chiffres cles a l’echelle du reseau (lignes, arrets, trajets, amplitude).\n\nNombre total de lignes: 265\nNombre total d’arrets: 852\nNombre total de trajets: 76\nPremier depart: 00:05\nDerniere arrivee: 23:55\nAmplitude horaire (heures): 23.83\n\n\n\n5.2 Repartition par ligne\nCette section compare les lignes entre elles (volumes, frequence moyenne, part des trajets).\n\n\nShow code\n# Apercu des lignes les plus frequentes\nline_stats %&gt;%\n  arrange(desc(Nombre_Trajets)) %&gt;%\n  head(10)\n\n\n   route_id Nom_Ligne Nombre_Arrets Nombre_Trajets first_dep last_dep\n1     31201       201            10             23       315     1340\n2     15252       252             3             14       315     1190\n3     24240       240            12              7       645     1390\n4     11301       301            11              6       555     1005\n5     21322       322             8              4       690     1095\n6     32511       511            11              4       370     1195\n7     11304       304             6              2       330     1140\n8     11306       306            12              2       330     1130\n9     21321       321             9              2       270      965\n10    22323      &lt;NA&gt;             8              2       735     1185\n   amplitude_h Part_Trajets freq_par_heure\n1     17.08333   0.30263158      1.3463415\n2     14.58333   0.18421053      0.9600000\n3     12.41667   0.09210526      0.5637584\n4      7.50000   0.07894737      0.8000000\n5      6.75000   0.05263158      0.5925926\n6     13.75000   0.05263158      0.2909091\n7     13.50000   0.02631579      0.1481481\n8     13.33333   0.02631579      0.1500000\n9     11.58333   0.02631579      0.1726619\n10     7.50000   0.02631579      0.2666667\n\n\n\n\nShow code\n# Tableau resume pour le top 10\ntop_10_lines %&gt;%\n  mutate(Part_Trajets = round(Part_Trajets * 100, 1)) %&gt;%\n  select(Nom_Ligne, Nombre_Arrets, Nombre_Trajets, Part_Trajets)\n\n\n   Nom_Ligne Nombre_Arrets Nombre_Trajets Part_Trajets\n1        201            10             23         30.3\n2        252             3             14         18.4\n3        240            12              7          9.2\n4        301            11              6          7.9\n5        322             8              4          5.3\n6        511            11              4          5.3\n7        304             6              2          2.6\n8        306            12              2          2.6\n9        321             9              2          2.6\n10      &lt;NA&gt;             8              2          2.6\n\n\n\n\nShow code\n# Statistiques des arrets par ligne\narrets_stats\n\n\n  min_arrets max_arrets mean_arrets median_arrets q1_arrets q3_arrets\n1          3         13      9.6875          10.5         8     11.25\n\n\n\n\nShow code\n# Statistiques des trajets par ligne\ntrajets_stats\n\n\n  min_trajets max_trajets mean_trajets median_trajets q1_trajets q3_trajets\n1           1          23         4.75              2          2        4.5\n\n\n\n\nShow code\n# Statistiques d'amplitude horaire par ligne\namplitude_stats\n\n\n  min_amp  max_amp mean_amp median_amp\n1       2 23.83333 10.95312         12\n\n\n\n\n5.3 Analyse des heures de pointe (matin/soir)\nLecture rapide des pics de service sur les plages 06h-09h et 16h-19h.\n\nHeure la plus chargee: 16 h\nPart des departs 06h-09h: 22.3%\nPart des departs 16h-19h: 28.5%",
    "crumbs": [
      "Projects",
      "STS - Offre de transport: analyse descriptive"
    ]
  },
  {
    "objectID": "qmd/sts-offre-transport.html#etape-3-visualisations",
    "href": "qmd/sts-offre-transport.html#etape-3-visualisations",
    "title": "STS - Offre de transport: analyse descriptive",
    "section": "6 Etape 3: Visualisations",
    "text": "6 Etape 3: Visualisations\n\n6.1 Distribution du nombre d’arrets par ligne\n\n\nShow code\nggplot(line_stats, aes(x = Nombre_Arrets)) +\n  geom_histogram(binwidth = 2, fill = \"#2b7a78\", color = \"white\") +\n  labs(\n    title = \"Distribution du nombre d'arrets par ligne\",\n    x = \"Nombre d'arrets\",\n    y = \"Nombre de lignes\"\n  ) +\n  theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n\n\n6.2 Distribution du nombre de trajets par ligne\n\n\nShow code\nggplot(line_stats, aes(x = Nombre_Trajets)) +\n  geom_histogram(binwidth = 2, fill = \"#17252a\", color = \"white\") +\n  labs(\n    title = \"Distribution du nombre de trajets par ligne\",\n    x = \"Nombre de trajets\",\n    y = \"Nombre de lignes\"\n  ) +\n  theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n\n\n6.3 Boxplot du nombre de trajets par ligne\n\n\nShow code\nggplot(line_stats, aes(y = Nombre_Trajets)) +\n  geom_boxplot(fill = \"#3aafa9\") +\n  labs(\n    title = \"Boite a moustaches du nombre de trajets par ligne\",\n    y = \"Nombre de trajets\"\n  ) +\n  theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n\n\n6.4 Distribution de l’amplitude horaire par ligne\n\n\nShow code\nggplot(line_stats, aes(x = amplitude_h)) +\n  geom_histogram(binwidth = 1, fill = \"#00b894\", color = \"white\") +\n  labs(\n    title = \"Distribution de l'amplitude horaire par ligne\",\n    x = \"Amplitude (heures)\",\n    y = \"Nombre de lignes\"\n  ) +\n  theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n\n\n6.5 Repartition horaire des departs\n\n\nShow code\nstop_times_clean %&gt;%\n  mutate(heure = floor(dep_min / 60)) %&gt;%\n  ggplot(aes(x = heure)) +\n  geom_histogram(binwidth = 1, fill = \"#6c5ce7\", color = \"white\") +\n  scale_x_continuous(breaks = seq(0, 24, 2)) +\n  labs(\n    title = \"Repartition horaire des departs\",\n    x = \"Heure de la journee\",\n    y = \"Nombre de departs\"\n  ) +\n  theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n\n\n6.6 Top 10 des lignes par nombre de trajets\n\n\nShow code\nggplot(top_10_lines, aes(x = reorder(Nom_Ligne, Nombre_Trajets), y = Nombre_Trajets)) +\n  geom_col(fill = \"#ff6f61\") +\n  coord_flip() +\n  labs(\n    title = \"Top 10 des lignes les plus frequentes\",\n    x = \"Ligne\",\n    y = \"Nombre de trajets\"\n  ) +\n  theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n\n\n6.7 Relation entre arrets et trajets\n\n\nShow code\nggplot(line_stats, aes(x = Nombre_Arrets, y = Nombre_Trajets)) +\n  geom_point(color = \"#2c3e50\", alpha = 0.7) +\n  geom_smooth(method = \"lm\", se = FALSE, color = \"#e74c3c\") +\n  labs(\n    title = \"Relation entre nombre d'arrets et nombre de trajets\",\n    x = \"Nombre d'arrets\",\n    y = \"Nombre de trajets\"\n  ) +\n  theme_minimal(base_size = 12)",
    "crumbs": [
      "Projects",
      "STS - Offre de transport: analyse descriptive"
    ]
  },
  {
    "objectID": "qmd/sts-offre-transport.html#etape-4-interpretation-et-synthese",
    "href": "qmd/sts-offre-transport.html#etape-4-interpretation-et-synthese",
    "title": "STS - Offre de transport: analyse descriptive",
    "section": "7 Etape 4: Interpretation et synthese",
    "text": "7 Etape 4: Interpretation et synthese\n\nL’offre comprend 265 lignes et 852 arrets.\nLe service debute a 00:05 et se termine vers 23:55, pour une amplitude d’environ 23.8 heures.\nLes 15 lignes les plus frequentes representent 98.7% de l’ensemble des trajets.\nLa mediane du nombre de trajets par ligne est de 2 avec un intervalle interquartile de 2 a 4.5.\nL’amplitude horaire mediane par ligne est de 12 heures, avec un maximum de 23.8 heures.",
    "crumbs": [
      "Projects",
      "STS - Offre de transport: analyse descriptive"
    ]
  },
  {
    "objectID": "qmd/sts-offre-transport.html#etape-5-complement-danalyse",
    "href": "qmd/sts-offre-transport.html#etape-5-complement-danalyse",
    "title": "STS - Offre de transport: analyse descriptive",
    "section": "8 Etape 5: Complement d’analyse",
    "text": "8 Etape 5: Complement d’analyse\n\n8.1 Lignes a forte couverture d’arrets\n\n\nShow code\nline_stats %&gt;%\n  arrange(desc(Nombre_Arrets)) %&gt;%\n  slice_head(n = 5)\n\n\n  route_id Nom_Ligne Nombre_Arrets Nombre_Trajets first_dep last_dep\n1    31202       202            13              1         5     1435\n2    24240       240            12              7       645     1390\n3    11306       306            12              2       330     1130\n4    31341       341            12              2       300      880\n5    11301       301            11              6       555     1005\n  amplitude_h Part_Trajets freq_par_heure\n1   23.833333   0.01315789     0.04195804\n2   12.416667   0.09210526     0.56375839\n3   13.333333   0.02631579     0.15000000\n4    9.666667   0.02631579     0.20689655\n5    7.500000   0.07894737     0.80000000\n\n\n\n\n8.2 Qualite des donnees horaires\n\n\nShow code\nmissing_times &lt;- stop_times %&gt;%\n  summarise(\n    total = n(),\n    dep_manquants = sum(is.na(dep_min)),\n    arr_manquants = sum(is.na(arr_min))\n  )\n\nmissing_times\n\n\n  total dep_manquants arr_manquants\n1   660             0             0",
    "crumbs": [
      "Projects",
      "STS - Offre de transport: analyse descriptive"
    ]
  },
  {
    "objectID": "qmd/sts-offre-transport.html#conclusion",
    "href": "qmd/sts-offre-transport.html#conclusion",
    "title": "STS - Offre de transport: analyse descriptive",
    "section": "9 Conclusion",
    "text": "9 Conclusion\nConstats: - Les trajets sont concentres sur un petit nombre de lignes. - La distribution des frequences est heterogene selon les lignes. - Les departs se concentrent sur des plages horaires de pointe (matin/soir).\nRecommandations: - Renforcer l’offre sur les lignes les plus sollicitees. - Ajuster la frequence pendant les heures de pointe matin/soir. - Ameliorer la qualite des donnees horaires pour un suivi plus fin.",
    "crumbs": [
      "Projects",
      "STS - Offre de transport: analyse descriptive"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Transport ST Sahel",
    "section": "",
    "text": "Ce site presente le projet d’analyse descriptive de l’offre de transport ST Sahel. Il couvre le chargement des donnees, les statistiques cles, les visualisations et une synthese des resultats."
  },
  {
    "objectID": "index.html#introduction",
    "href": "index.html#introduction",
    "title": "Transport ST Sahel",
    "section": "",
    "text": "Ce site presente le projet d’analyse descriptive de l’offre de transport ST Sahel. Il couvre le chargement des donnees, les statistiques cles, les visualisations et une synthese des resultats."
  },
  {
    "objectID": "index.html#auteur",
    "href": "index.html#auteur",
    "title": "Transport ST Sahel",
    "section": "2 Auteur",
    "text": "2 Auteur\nAhmed Oumarou"
  }
]